<!DOCTYPE html>
<html>
  <head>
    <style>
      #map {
        width: 100%;
        height: 400px;
        background-color: grey;
      }
    </style>
  </head>
  <body>
    
    <h3>My Google Maps Demo</h3>
    <!--The div element for the map -->
    <form>
      First name: <input id="fname" type="text" name="fname" value="-31.9546781"><br>
      Last name: <input id="lname" type="text" name="lname"  value="115.852662"><br>
    </form>
    <button type="button" onclick="addLocation()">Input into array</button>
    <div>
       <button type="button" onclick="addToMap()">Update Map</button>
    </div>
    <div id="map">
        <script>
            var labels = 'What the Fuck'
            var labelIndex = 0
            var latvar = [-31.9546781] //first position
            var lngvar = [115.852662]  //first position
            function addLocation() {

              latvar.push(parseFloat(document.getElementById("fname").value));
              lngvar.push(parseFloat(document.getElementById("lname").value)+1);
              document.getElementById("lname").value = parseFloat(document.getElementById("lname").value)+1;
              labelIndex = 0;
            }

            // Initialize and add the map
            var map;
            function initMap() {
              // The location of Uluru
              var uluru = {lat: latvar[0], lng: lngvar[0]};
              // The map, centered at Uluru
              map = new google.maps.Map(
                  document.getElementById('map'), {zoom: 4, center: uluru});        
            }


              // Adds a marker to the map.
            function addMarker(location, map) {
                var marker = new google.maps.Marker({
                  position: location,
                  label: labels[labelIndex++ % labels.length],
                  map: map
                });
            }

            function addToMap(){
                var i =0;
                for (i = 0; i < latvar.length; i++){
                    var uluru2 = {lat: latvar[i],lng: lngvar[i]}
                    addMarker(uluru2, map);
                    map.setCenter(uluru2);
                }    

            }


            google.maps.event.addDomListener(window, 'load', initialize);
        </script>
        <script async defer
            src="https://maps.google.com/maps/api/js?key=AIzaSyDWV7zyVYTeF6axFy5w7gtZVx__QakS8-0&callback=initMap">
        </script>
        
        
    </div>
  </body>
</html>